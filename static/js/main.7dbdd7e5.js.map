{"version":3,"file":"static/js/main.7dbdd7e5.js","mappings":"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","sources":["src/screens/synonyms/colorChart/animatedRectangle.tsx","src/screens/synonyms/colorChart/rectangle.ts","src/screens/synonyms/colorChart/rectangleTransition.ts","src/screens/synonyms/colorChart/colorChart.tsx","src/useValueSynchronizer.ts","src/colors.ts","src/screens/synonyms/synonymWord.tsx","src/events.ts","src/dictionaries/storageHandling.ts","src/screens/synonyms/backgroundImage.tsx","src/dictionaries/data/wordNormal.ts","src/dictionaries/data/synonymCloud.ts","src/screens/synonyms/colorChart/gradient.ts","src/screens/synonyms/colorChart/colorNormal.ts","src/dictionaries/data/useClouds.ts","src/screens/synonyms/synonymList.tsx","src/dictionaries/data/apiResponse.ts","src/dictionaries/dictionary.ts","src/dictionaries/datamuse.ts","src/dictionaries/meriam.ts","src/dictionaries/keyHandling.ts","src/dictionaries/bighugelabs.ts","src/dictionaries/dictionaryLoading.ts","src/screens/synonyms/hintsView.tsx","src/screens/synonyms/hintOverlay.tsx","src/dictionaries/data/synonymCollection.ts","src/screens/materialButton.tsx","src/screens/synonyms/controlPanel.tsx","src/screens/synonyms/synonymScreen.tsx","src/dictionaries/data/useSynonyms.ts","src/screens/titledToggle.tsx","src/screens/options/apiSwitch.tsx","src/screens/options/cloudCountSwitch.tsx","src/screens/options/optionsScreen.tsx","src/screens/inputModal.tsx","App.tsx","src/navigation.ts","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["import React, { FC, useEffect, useMemo } from \"react\";\r\nimport Animated, {\r\n  SharedValue,\r\n  useAnimatedStyle,\r\n  useSharedValue,\r\n} from \"react-native-reanimated\";\r\nimport { ViewProps, ViewStyle } from \"react-native\";\r\nimport { RectangleTransition } from \"./rectangleTransition\";\r\n\r\ninterface RectProps {\r\n  transition: RectangleTransition;\r\n  dataKey: string;\r\n  animationProgress: SharedValue<number>;\r\n  style?: ViewProps;\r\n  debugMessages?: boolean;\r\n  registerTransitionUpdates?: (\r\n    id: string,\r\n    val: (RectangleTransition) => void\r\n  ) => void;\r\n}\r\n\r\n//Views animated to lerp size according to transition and progressValue\r\nconst AnimatedRect: FC<RectProps> = ({\r\n  animationProgress,\r\n  transition,\r\n  style,\r\n  dataKey,\r\n  registerTransitionUpdates,\r\n}) => {\r\n  const transitionRef = useSharedValue<RectangleTransition>(transition);\r\n\r\n  useEffect(() => {\r\n    const updateTransition = (newTransition: RectangleTransition) =>\r\n      (transitionRef.value = newTransition);\r\n    registerTransitionUpdates?.(dataKey, updateTransition);\r\n  }, [dataKey, registerTransitionUpdates]);\r\n\r\n  const staticStyle: Animated.AnimateStyle<ViewStyle> = useMemo(\r\n    () => ({\r\n      position: \"absolute\",\r\n      ...style,\r\n    }),\r\n    [style]\r\n  );\r\n\r\n  //runs on the UI threat every time animation progress changes\r\n  const animatedStyle =\r\n    useAnimatedStyle((): Animated.AnimateStyle<ViewStyle> => {\r\n      const { start, end } = transitionRef.value;\r\n      const { value } = animationProgress;\r\n      return {\r\n        ...staticStyle,\r\n        left: lerpWorklet(value, start.left, end.left),\r\n        bottom: lerpWorklet(value, start.bottom, end.bottom),\r\n        width: lerpWorklet(value, start.width, end.width),\r\n        height: lerpWorklet(value, start.height, end.height),\r\n        backgroundColor: end.color,\r\n      };\r\n    }, [animationProgress]);\r\n\r\n  return <Animated.View style={animatedStyle} />;\r\n};\r\n\r\n//interpolates arrays of values on a UI thread\r\nfunction lerpWorklet(progress: number, start: number, end: number) {\r\n  \"worklet\";\r\n  return (1 - progress) * start + progress * end;\r\n}\r\n\r\nexport default AnimatedRect;\r\n","export default class Rectangle {\r\n  constructor(\r\n    public left: number,\r\n    public bottom: number,\r\n    public width: number,\r\n    public height: number,\r\n    public color: string\r\n  ) {}\r\n\r\n  static Zero() {\r\n    return { left: 0, bottom: 0, width: 0, height: 0, color: \"white\" };\r\n  }\r\n}\r\n\r\nexport function RectToString(rect: Rectangle, fixedDecimals = 10) {\r\n  return `L: ${rect.left.toFixed(fixedDecimals)} B: ${rect.bottom.toFixed(\r\n    fixedDecimals\r\n  )} W: ${rect.width} H:${rect.height} C:${rect.color}`;\r\n}\r\n\r\nexport function LerpRectangles(\r\n  progress: number,\r\n  rect1: Rectangle,\r\n  rect2: Rectangle\r\n) {\r\n  return new Rectangle(\r\n    Lerp(progress, rect1.left, rect2.left),\r\n    Lerp(progress, rect1.bottom, rect2.bottom),\r\n    Lerp(progress, rect1.width, rect2.width),\r\n    Lerp(progress, rect1.height, rect2.height),\r\n    rect2.color\r\n  );\r\n}\r\n\r\nfunction Lerp(progress: number, start: number, end: number) {\r\n  return (1 - progress) * start + progress * end;\r\n}\r\n\r\n//matches arrays of rectangles index to index by color, by inserting new 0-width rectangles when colors differ\r\nexport function AlignRectangles(\r\n  start: Rectangle[],\r\n  end: Rectangle[]\r\n): [startRects: Rectangle[], endRects: Rectangle[]] {\r\n  start = Array.from(start);\r\n  end = Array.from(end);\r\n  let startLength = start.length;\r\n  let endLength = end.length;\r\n  const defHeight = start[0]?.height || end[0]?.height || 0;\r\n\r\n  for (let i = 0; i < Math.max(startLength, endLength); i += 1) {\r\n    if (start[i]?.color === end[i]?.color) continue;\r\n    //find matching colors for a transition\r\n    if (startLength <= i || start[i]?.color == end[i + 1]?.color) {\r\n      spliceRect(start, i, defHeight, end[i].color);\r\n      startLength += 1;\r\n    } else if (endLength <= i || end[i]?.color == start[i + 1]?.color) {\r\n      spliceRect(end, i, defHeight, start[i].color);\r\n      endLength += 1;\r\n    }\r\n    //didn't find matches, insert new colors into each array set\r\n    else {\r\n      spliceRect(start, i, defHeight, end[i].color);\r\n      spliceRect(end, i + 1, defHeight, start[i + 1].color);\r\n      startLength += 1;\r\n      endLength += 1;\r\n    }\r\n  }\r\n  return [start, end];\r\n}\r\n\r\n//insert a width-0 rectangle of color\r\nexport function spliceRect(\r\n  rects: Rectangle[],\r\n  index: number,\r\n  height: number,\r\n  color: string\r\n) {\r\n  const prevRect = rects[index - 1];\r\n  const left = prevRect ? prevRect.left + prevRect.width : 0;\r\n  rects.splice(index, 0, {\r\n    left: left,\r\n    width: 0,\r\n    height: height,\r\n    bottom: 0,\r\n    color: color,\r\n  });\r\n}\r\n","import Rectangle from \"./rectangle\";\r\n\r\nexport type RectangleTransition = { start: Rectangle; end: Rectangle };\r\n\r\n//Gives rectangle a unique identifier based on its color\r\nexport function GetTransitionsKeys(rects: RectangleTransition[]) {\r\n  const result = new Map<string, RectangleTransition>();\r\n  const colors = new Map<string, number>();\r\n  rects.forEach((rect) => {\r\n    const color = rect.end.color;\r\n    const colorCount = 1 + (colors.get(color) ?? 0);\r\n    colors.set(color, colorCount);\r\n    result.set(color + colorCount, rect);\r\n  });\r\n  return result;\r\n}\r\n","import React, { FC, useCallback, useEffect } from \"react\";\r\nimport { StyleSheet, View, ViewStyle } from \"react-native\";\r\nimport { useSharedValue, withTiming } from \"react-native-reanimated\";\r\n\r\nimport ColorNormal from \"./colorNormal\";\r\nimport AnimatedRect from \"./animatedRectangle\";\r\nimport {\r\n  AlignRectangles as AlignRectangles,\r\n  LerpRectangles as LerpRectangles,\r\n} from \"./rectangle\";\r\nimport { GetTransitionsKeys, RectangleTransition } from \"./rectangleTransition\";\r\nimport { useValueSynchronizer } from \"../../../useValueSynchronizer\";\r\n\r\ninterface ColorChartProps {\r\n  colorNormal: ColorNormal;\r\n  animationLength?: number;\r\n  size: { height: number; width: number };\r\n  style?: ViewStyle;\r\n}\r\n\r\n//Takes in a ColorNormal, draws a rectangle chart with sharp gradients according to it\r\n//if passed a different ColorNormal, will animate transition to it\r\nconst ColorChart: FC<ColorChartProps> = ({\r\n  colorNormal,\r\n  animationLength,\r\n  size,\r\n  style,\r\n}) => {\r\n  const {\r\n    registerCallback,\r\n    keys,\r\n    setArray: setTransitions,\r\n    array: transitions,\r\n  } = useValueSynchronizer<RectangleTransition>(GetTransitionsKeys);\r\n\r\n  const animationProgress = useSharedValue(1);\r\n  const restartAnimation = useCallback(() => {\r\n    const duration = isNaN(animationLength)\r\n      ? DEFAULT_ANIMATION_LENGTH\r\n      : animationLength;\r\n    animationProgress.value = 0;\r\n    animationProgress.value = withTiming(1, {\r\n      duration: duration,\r\n    });\r\n  }, [animationLength]);\r\n\r\n  //calculate starting and ending rectangles when normal changes\r\n  useEffect(() => {\r\n    if (!colorNormal?.IsValid) return;\r\n    //get current rectangles according to animation progress\r\n    const currentRects = transitions\r\n      .map(({ start, end }) =>\r\n        LerpRectangles(animationProgress.value, start, end)\r\n      )\r\n      .filter((rect) => rect.width != 0);\r\n\r\n    //calculate new start and end between current\r\n    const normalRectangles = colorNormal.ToGradient().ToRectangle(size);\r\n    const [newStart, newTarget] = AlignRectangles(\r\n      currentRects,\r\n      normalRectangles\r\n    );\r\n\r\n    const newTransitions: RectangleTransition[] = newStart.map((_, index) => ({\r\n      start: newStart[index],\r\n      end: newTarget[index],\r\n    }));\r\n\r\n    setTransitions((previous: RectangleTransition[]) => {\r\n      if (previous.length) restartAnimation();\r\n      return newTransitions;\r\n    });\r\n  }, [colorNormal, size, setTransitions]);\r\n\r\n  return (\r\n    <View style={[styles.view, style]}>\r\n      {Array.from(keys.keys()).map((id) => (\r\n        <AnimatedRect\r\n          transition={keys.get(id)}\r\n          dataKey={id}\r\n          key={id}\r\n          animationProgress={animationProgress}\r\n          registerTransitionUpdates={registerCallback}\r\n        />\r\n      ))}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  view: {\r\n    flexDirection: \"row\",\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n});\r\n\r\nconst DEFAULT_ANIMATION_LENGTH = 1000;\r\n\r\nexport default ColorChart;\r\n","import React from \"react\";\r\n\r\n//maintains an array of variables and accompanying callbacks, that are called syncronously when the value is changed\r\n\r\n//Key extractor must produce a unique key for each of the variable\r\n//setters are paired to a variable through a key\r\n//when the variables are updated, accompanying setters are called with an updated variable\r\nexport function useValueSynchronizer<T>(\r\n  keyProducer: (array: T[]) => Map<string, T>\r\n) {\r\n  const [array, setArray] = React.useState<T[]>([]);\r\n\r\n  //used to identify callbacks in an array\r\n  const [keys, setKeys] = React.useState(keyProducer(array));\r\n\r\n  //callbacks are stored along their keys and called when the value is updated\r\n  type Callback = (val: T) => void;\r\n\r\n  const callbacks = React.useRef(new Map<string, Callback>());\r\n  const registerCallback = React.useCallback(\r\n    (key: string, callback: Callback) => {\r\n      callbacks.current.set(key, callback);\r\n    },\r\n    []\r\n  );\r\n\r\n  //if callbacks keys are not in the key array, delete them\r\n  removeMissingMapEntries(callbacks.current, keys);\r\n\r\n  //sets the value to state, calls all callbacks with the new value\r\n  const setArrayAndUpdate = React.useCallback(\r\n    (arrayOrCallback: T[] | ((previous) => T[])) => {\r\n      setArray((previous: T[]) => {\r\n        const newArray =\r\n          typeof arrayOrCallback == \"function\"\r\n            ? arrayOrCallback(previous)\r\n            : arrayOrCallback;\r\n        const newKeys = keyProducer(newArray);\r\n        newKeys.forEach((value, key) => callbacks.current.get(key)?.(value));\r\n        setKeys(newKeys);\r\n        return newArray;\r\n      });\r\n    },\r\n    [setArray, setKeys, keyProducer]\r\n  );\r\n\r\n  return { array: array, setArray: setArrayAndUpdate, registerCallback, keys };\r\n}\r\n\r\nfunction removeMissingMapEntries<TKey>(\r\n  removeFrom: Map<TKey, any>,\r\n  missingFrom: Map<TKey, any>\r\n) {\r\n  removeFrom.forEach((_, key) => {\r\n    if (!missingFrom.has(key)) removeFrom.delete(key);\r\n  });\r\n}\r\n","export function getRandomColor(): string {\r\n  return colors[Math.floor(Math.random() * colors.length)];\r\n}\r\n\r\nfunction getFreeColor(takenColors: string[]): string {\r\n  const set = new Set(colors);\r\n  for (const color of takenColors) set.delete(color);\r\n\r\n  return set.size == 0\r\n    ? getRandomColor()\r\n    : Array.from(set)[Math.floor(Math.random() * set.size)];\r\n}\r\n\r\n//saves values from old map and generates new ones\r\nexport function RebuildColorMap<T>(oldMap: Map<T, string>, keys: T[]) {\r\n  const takenColors = new Set<string>();\r\n  oldMap.forEach((color, key) => {\r\n    if (keys.includes(key)) takenColors.add(color);\r\n  });\r\n\r\n  const newColormap = new Map<T, string>();\r\n  keys.forEach((key) => {\r\n    const color = oldMap.get(key) || getFreeColor(Array.from(takenColors));\r\n    newColormap.set(key, color);\r\n    takenColors.add(color);\r\n  });\r\n  return newColormap;\r\n}\r\n\r\nconst colors = [\r\n  \"#B66DFF\",\r\n  \"#FF2A95\",\r\n  \"#FFB6DB\",\r\n  \"#4673FF\",\r\n  \"#00A6A6\",\r\n  \"#8CCAFF\",\r\n  \"#FB6E6E\",\r\n  \"#FFB488\",\r\n  \"#24FF24\",\r\n];\r\nexport const DisabledGrey: string = \"#7A7B7A\";\r\nexport const BGWhite: string = \"#FFFFFF\";\r\nexport const AccentColor: string = \"#eac8f7\";\r\nexport const CountourColor: string = \"#000000\";\r\n","import React, { FC, memo, useState, useMemo } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  ViewStyle,\r\n  TextStyle,\r\n  Pressable,\r\n  Platform,\r\n  Animated,\r\n} from \"react-native\";\r\n\r\nimport ColorNormal from \"./colorChart/colorNormal\";\r\nimport ColorChart from \"./colorChart/colorChart\";\r\nimport * as Colors from \"../../colors\";\r\n\r\ninterface SynonymWordProps {\r\n  word: string;\r\n  colorNormal: ColorNormal;\r\n  onPress: (word: string) => void;\r\n  style?: ViewStyle;\r\n}\r\n\r\n//pressable tile with a word and a sharp color gradient for given color normal\r\nconst SynonymWord: FC<SynonymWordProps> = memo(\r\n  ({ colorNormal, word, onPress, style: propStyle }) => {\r\n    //run the animation when the component mounts and unmounts\r\n    const viewOpacity = React.useRef(new Animated.Value(0)).current;\r\n    React.useEffect(() => {\r\n      Animated.timing(viewOpacity, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        useNativeDriver: true,\r\n      }).start();\r\n    }, []);\r\n\r\n    const styles = useMemo(() => {\r\n      const { zIndex = 0 } = propStyle ?? {};\r\n      return StyleSheet.create<SynonymWordStyles>({\r\n        chart: { zIndex: zIndex + 1 },\r\n        container: {\r\n          ...propStyle,\r\n          backgroundColor: colorNormal?.getDominantColor() ?? \"white\",\r\n        },\r\n        word: {\r\n          margin: 5,\r\n          marginHorizontal: 10,\r\n          fontSize: 20,\r\n          zIndex: zIndex + 2,\r\n        },\r\n      });\r\n    }, [propStyle]);\r\n\r\n    //size of the tile is calculate via layout event\r\n    const [layoutSize, setLayoutSize] = useState({\r\n      height: 0,\r\n      width: 0,\r\n    });\r\n    const onLayout = ({ nativeEvent }) => {\r\n      setLayoutSize({\r\n        height: nativeEvent.layout.height,\r\n        width: nativeEvent.layout.width,\r\n      });\r\n    };\r\n\r\n    return (\r\n      <Animated.View style={{ opacity: viewOpacity }}>\r\n        <Pressable\r\n          android_ripple={{\r\n            color: Colors.BGWhite,\r\n            foreground: true,\r\n          }}\r\n          onPress={() => onPress(word)}\r\n          style={({ pressed }) => ({\r\n            opacity: Platform.OS != \"android\" && pressed ? 0.6 : 1,\r\n          })}\r\n        >\r\n          <View\r\n            style={styles.container}\r\n            onLayout={layoutSize.width == 0 ? onLayout : undefined}\r\n          >\r\n            {layoutSize.width != 0 && (\r\n              <ColorChart\r\n                colorNormal={colorNormal}\r\n                style={styles.chart}\r\n                size={layoutSize}\r\n              />\r\n            )}\r\n            <Text style={styles.word}>{word}</Text>\r\n          </View>\r\n        </Pressable>\r\n      </Animated.View>\r\n    );\r\n  }\r\n);\r\n\r\ninterface SynonymWordStyles {\r\n  chart: ViewStyle;\r\n  container: ViewStyle;\r\n  word: TextStyle;\r\n}\r\n\r\nexport default SynonymWord;\r\n","//events run by DeviceEventEmitter\r\nexport enum EventsEnum {\r\n  ApiKeyEntered = \"api-key-entered\",\r\n  ApiChanged = \"api-changed\",\r\n  LayoutChanged = \"layout-changed\",\r\n  CloudCountChanged = \"cloud-count-changed\",\r\n  HintsReset = \"hints-reset\",\r\n}\r\n","import AsyncStorage from \"@react-native-async-storage/async-storage\";\r\n\r\nexport default class Storage {\r\n  static async GetString(storageString: string) {\r\n    return AsyncStorage.getItem(storageString);\r\n  }\r\n\r\n  static async SetString(storageString: string, value: string) {\r\n    return AsyncStorage.setItem(storageString, value);\r\n  }\r\n}\r\n\r\nexport enum StringTypesEnum {\r\n  WasLaunched = \"WasLaunched\",\r\n  DisabledVisualts = \"DisabledVisuals\",\r\n  TileLayout = \"TileLayout\",\r\n  CloudCount = \"CloudCount\",\r\n}\r\n","import React, { FC } from \"react\";\r\nimport {\r\n  Animated,\r\n  ImageBackground,\r\n  ImageSourcePropType,\r\n  StyleSheet,\r\n  ViewStyle,\r\n} from \"react-native\";\r\n\r\ninterface BackgroundImageProps {\r\n  style?: ViewStyle;\r\n  faded: boolean;\r\n  source: ImageSourcePropType;\r\n  fadeCeiling?: number;\r\n  fadeFloor?: number;\r\n  duration?: number;\r\n}\r\n\r\n//background image with animated opacity\r\nconst BackgroundImage: FC<BackgroundImageProps> = ({\r\n  style,\r\n  faded,\r\n  source,\r\n  fadeFloor,\r\n  fadeCeiling,\r\n  duration,\r\n}) => {\r\n  fadeFloor = isNaN(fadeFloor) ? defaultFadeFloor : fadeFloor;\r\n  fadeCeiling = isNaN(fadeCeiling) ? defaultFadeCeiling : fadeCeiling;\r\n  duration = isNaN(duration) ? defaultDuration : duration;\r\n\r\n  const animatiedOpacity = React.useState(new Animated.Value(fadeCeiling))[0];\r\n  React.useEffect(() => {\r\n    Animated.timing(animatiedOpacity, {\r\n      toValue: faded ? fadeFloor : fadeCeiling,\r\n      duration: duration,\r\n      useNativeDriver: true,\r\n    }).start();\r\n  }, [faded]);\r\n\r\n  return (\r\n    <Animated.View\r\n      style={{ ...style, ...styles.view, opacity: animatiedOpacity }}\r\n    >\r\n      <ImageBackground\r\n        source={source}\r\n        resizeMode=\"center\"\r\n        style={styles.imageBackground}\r\n      ></ImageBackground>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst defaultFadeCeiling = 0.85;\r\nconst defaultFadeFloor = 0.4;\r\nconst defaultDuration = 1000;\r\n\r\nconst styles = StyleSheet.create({\r\n  view: {\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n  },\r\n  imageBackground: { width: \"100%\", height: \"100%\" },\r\n});\r\n\r\nexport default BackgroundImage;\r\n","//normal vector of synonyms for a word\r\n// [{word:\"vague\", value:.5}, {word:\"undefined\", value:.3}, {word:\"inaccurate\", value: .2}]\r\nexport default class WordNormal extends Array<{ word: string; value: number }> {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  public static Copy(copy: WordNormal) {\r\n    return [...copy];\r\n  }\r\n}\r\n\r\n//determines a weight of every dimension of the array for a total amount to be 1\r\n//every next dimension takes a space less than a single unit of the previous one\r\n//[1, 1, 1] => [0.65, 0.25, 0.1]\r\nexport function CalculateWeights(quantities: number[]) {\r\n  const weights: number[] = [];\r\n  const orderWeightIncrease = 0.3;\r\n  let unitWeight = 1;\r\n  let totalWeight = 0;\r\n  for (let i = quantities.length - 1; i >= 0; i--) {\r\n    const currentQ = quantities[i];\r\n    weights[i] = currentQ ? unitWeight : 0;\r\n    if (!currentQ) continue;\r\n\r\n    const columnWeight = unitWeight * currentQ;\r\n    totalWeight += columnWeight;\r\n    unitWeight = Math.ceil(columnWeight * (1 + orderWeightIncrease));\r\n  }\r\n\r\n  return weights.map((val) => (totalWeight ? val / totalWeight : 0));\r\n}\r\n","import SynonymCollection from \"./synonymCollection\";\r\nimport WordNormal, { CalculateWeights } from \"./wordNormal\";\r\n\r\n//a word with connection values to other words\r\nexport default class SynonymCloud {\r\n  //a map of connections to other words\r\n  //connections are stored as an array of numbers,  the lower the index the more important the connection is\r\n  connections = new Map<string, number[]>();\r\n  connectionSum = []; //sums of connections of all words, stored in parallel for performance\r\n  public constructor(public name: string) {}\r\n\r\n  public addConnection(word: string, order: number, strength = 1) {\r\n    this.nullCache();\r\n    const existingDimensions = this.connections.get(word) || [];\r\n    if (existingDimensions.length == 0)\r\n      this.connections.set(word, existingDimensions);\r\n    existingDimensions[order] = (existingDimensions[order] || 0) + strength;\r\n    while (this.connectionSum.length <= order) this.connectionSum.push(0);\r\n    this.connectionSum[order] += strength;\r\n  }\r\n\r\n  private nullCache() {\r\n    this.normalCache = undefined;\r\n    this.wordMapCache = undefined;\r\n  }\r\n\r\n  //gets a map of a normalized n-dimensional vector of connections [\"word1\": 0.25, \"word2\": 0.5, \"word3\": 0.25]\r\n  private normalCache: WordNormal;\r\n  public GetWordNormal() {\r\n    if (!this.normalCache)\r\n      this.normalCache = buildWordNormal(this.connections, this.connectionSum);\r\n    return WordNormal.Copy(this.normalCache);\r\n  }\r\n\r\n  //translates word normal into a map\r\n  private wordMapCache;\r\n  public GetWordMap() {\r\n    if (!this.wordMapCache) {\r\n      this.wordMapCache = new Map();\r\n      this.GetWordNormal().forEach(({ word, value }) =>\r\n        this.wordMapCache.set(word, value)\r\n      );\r\n    }\r\n    return this.wordMapCache;\r\n  }\r\n\r\n  //sorts cloud array by connection strength to a certain word\r\n  public static GetSorted(clouds: SynonymCloud[], word: string) {\r\n    const result = Array.from(clouds);\r\n    if (!word || word == \"\") return result;\r\n    result.sort(\r\n      (a, b) =>\r\n        (b.GetWordMap().get(word) || 0) - (a.GetWordMap().get(word) || 0)\r\n    );\r\n    return result;\r\n  }\r\n}\r\n\r\n//build clouds of synonyms from given collections\r\nexport function CrossReference(collections: SynonymCollection[]) {\r\n  const allKeywords = collections.map(\r\n    (synonymCollection) => synonymCollection.Word\r\n  );\r\n\r\n  const map = new Map<string, SynonymCloud>();\r\n\r\n  const getCloud = (word) => {\r\n    let cloud = map.get(word);\r\n    if (!cloud) {\r\n      cloud = new SynonymCloud(word);\r\n      map.set(word, cloud);\r\n    }\r\n    return cloud;\r\n  };\r\n\r\n  const addConnectionToSet = (\r\n    set: Set<string>,\r\n    keyWord: string,\r\n    order: number\r\n  ) => {\r\n    for (const setWord of set) {\r\n      if (!allKeywords.includes(setWord))\r\n        getCloud(setWord).addConnection(keyWord, order);\r\n    }\r\n  };\r\n\r\n  //compare collections between each other, adding connections to all matching words\r\n  for (const collection of collections)\r\n    for (const definition of collection.definitionSets)\r\n      for (const synonymSet of definition)\r\n        for (const word of synonymSet) {\r\n          //if found a word from main list\r\n          if (allKeywords.includes(word)) {\r\n            //go through synonym list, add 1st degree connection\r\n            addConnectionToSet(synonymSet, word, 1);\r\n\r\n            for (const synonymList2 of definition)\r\n              if (synonymList2 !== synonymSet)\r\n                addConnectionToSet(synonymList2, word, 2);\r\n          } else getCloud(word).addConnection(collection.Word, 0);\r\n        }\r\n\r\n  return map;\r\n}\r\n\r\nfunction buildWordNormal(connections: Map<string, number[]>, sum: number[]) {\r\n  const normal = new WordNormal();\r\n  const connectionWeights = CalculateWeights(sum);\r\n\r\n  for (const [word, mentions] of connections) {\r\n    let val = 0;\r\n    for (let i = 0; i < mentions.length; i++)\r\n      val += connectionWeights[i] * mentions[i] || 0;\r\n\r\n    normal.push({\r\n      word: word,\r\n      value: parseFloat(val.toFixed(5)),\r\n    });\r\n  }\r\n\r\n  return normal;\r\n}\r\n","import Rectangle from \"./rectangle\";\r\n\r\ntype colorSection = { color: string; start: number; width: number };\r\ntype rectSize = { height: number; width: number };\r\n\r\n//Sharp color gradient values, example:\r\n//[{color:\"red\", start:0, width: .5}, {color:\"blue\", start: .5, width: .5}]\r\nexport default class Gradient extends Array<colorSection> {\r\n  constructor(...items: colorSection[]) {\r\n    super(...(items ?? []));\r\n  }\r\n\r\n  ToRectangle(size: rectSize): Rectangle[] {\r\n    return this.map(\r\n      (colorSection) =>\r\n        new Rectangle(\r\n          colorSection.start * size.width,\r\n          0,\r\n          colorSection.width * size.width,\r\n          size.height,\r\n          colorSection.color\r\n        )\r\n    );\r\n  }\r\n}\r\n","import WordNormal from \"../../../dictionaries/data/wordNormal\";\r\nimport Gradient from \"./gradient\";\r\n\r\n// normal vector with colors as axis\r\n// [{color:\"red\", value:.5}, {color:\"blue\", value:.5}]\r\nexport default class ColorNormal extends Array<{\r\n  color: string;\r\n  value: number;\r\n}> {\r\n  public IsValid = false;\r\n  constructor(wordNormal: WordNormal, colorMap: Map<string, string>) {\r\n    let validated = wordNormal.length > 0 && colorMap.size > 0;\r\n\r\n    const array = wordNormal.map((val) => {\r\n      const wordColor = colorMap.get(val.word);\r\n      if (!wordColor) validated = false;\r\n      return { color: wordColor, value: val.value };\r\n    });\r\n\r\n    super(...array);\r\n    this.IsValid = validated;\r\n  }\r\n\r\n  isEqualTo(normal: ColorNormal) {\r\n    const ln = this.length;\r\n    if (ln != normal.length) return false;\r\n    for (let i = 0; i < ln; i++) {\r\n      if (this[i].color != normal[i].color || this[i].value != normal[i].value)\r\n        return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  //translates ColorNormal into a gradient for GradientRect component\r\n  //[{color:\"red\", value: 0.5}, {color:\"blue\", value: 0.5}] => [{color:\"red\", start: 0, width: 0.5}, {color:\"blue\", start:0.5, width: 0.5}]\r\n  ToGradient() {\r\n    const sections = [];\r\n    let start = 0;\r\n    this.forEach((pair) => {\r\n      sections.push({ color: pair.color, start: start, width: pair.value });\r\n      start += pair.value;\r\n    });\r\n    return new Gradient(...sections);\r\n  }\r\n\r\n  getDominantColor() {\r\n    let backgroundColorValue = 0;\r\n    let ibackground: string = undefined;\r\n\r\n    this.forEach((pair) => {\r\n      if (pair.value > backgroundColorValue) {\r\n        ibackground = pair.color;\r\n        backgroundColorValue = pair.value;\r\n      }\r\n    });\r\n    return ibackground;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport SynonymCollection from \"./synonymCollection\";\r\nimport SynonymCloud, { CrossReference } from \"./synonymCloud\";\r\nimport ColorNormal from \"../../screens/synonyms/colorChart/colorNormal\";\r\n\r\n//react hook that creates word clouds out of synonyms\r\nexport function useClouds(\r\n  synonyms: SynonymCollection[],\r\n  colorMap: Map<string, string>,\r\n  sortBy?: string,\r\n  limit?: number\r\n) {\r\n  //build word clouds from synonyms\r\n  const allClouds = React.useMemo(() => CrossReference(synonyms), [synonyms]);\r\n\r\n  //sort, apply limits and build an ordered map of clouds\r\n  const sortedClouds = React.useMemo(() => {\r\n    const newSorted = SynonymCloud.GetSorted(\r\n      Array.from(allClouds.values()),\r\n      sortBy\r\n    ).slice(0, isNaN(limit) ? Infinity : limit);\r\n\r\n    const orderedMap = new Map(\r\n      newSorted.map((value, order) => [value.name, { value, order }])\r\n    );\r\n    return orderedMap;\r\n  }, [allClouds, limit, sortBy]);\r\n\r\n  //set up a timer to move N amount of clouds to rendered array, every cycle\r\n  const staggetTimer = React.useRef<NodeJS.Timer>();\r\n  const [renderedClouds, setRenderedClouds] = React.useState<SynonymCloud[]>(\r\n    []\r\n  );\r\n  React.useEffect(() => {\r\n    staggetTimer.current && clearInterval(staggetTimer.current);\r\n\r\n    setRenderedClouds((previous) => {\r\n      const moveNextClouds = (previousClouds) => {\r\n        const newArray = MoveElements(\r\n          sortedClouds,\r\n          previousClouds,\r\n          ELEMENTS_PER_RENDER\r\n        );\r\n        if (sortedClouds.size == newArray.length) clearInterval(previousTimer);\r\n        return newArray;\r\n      };\r\n\r\n      const previousTimer = setInterval(() => {\r\n        if (previousTimer == staggetTimer.current)\r\n          setRenderedClouds(moveNextClouds);\r\n        else clearInterval(previousTimer);\r\n      }, TIME_INTERVAL);\r\n\r\n      staggetTimer.current = previousTimer;\r\n      return CopyExisting(sortedClouds, previous);\r\n    });\r\n  }, [setRenderedClouds, sortedClouds]);\r\n\r\n  //build color normals for clouds\r\n  const previousNormals = React.useRef(new Map<string, ColorNormal>());\r\n  const colorNormals = React.useMemo(() => {\r\n    {\r\n      const newNormals = rebuildNormals(\r\n        Array.from(allClouds.values()),\r\n        colorMap,\r\n        previousNormals.current\r\n      );\r\n      previousNormals.current = newNormals;\r\n      return newNormals;\r\n    }\r\n  }, [colorMap, allClouds]);\r\n\r\n  const displayInfo = {\r\n    totalCount: allClouds.size,\r\n    renderedCount: renderedClouds.length,\r\n  };\r\n\r\n  return {\r\n    clouds: renderedClouds,\r\n    colorNormals,\r\n    displayInfo,\r\n  };\r\n}\r\n\r\n//this reorders and leaves all elements in current that also exist in all\r\nfunction CopyExisting(\r\n  allElements: OrderedMap<string, SynonymCloud>,\r\n  current: SynonymCloud[]\r\n): SynonymCloud[] {\r\n  const result = [];\r\n  current.forEach((element) => {\r\n    const { order, value } = allElements.get(element?.name) || {};\r\n    if (value) result[order] = value;\r\n  });\r\n  return result;\r\n}\r\n\r\n//pushes missing elements from ordered map into an array by a certain amount\r\nfunction MoveElements<TKey, TValue>(\r\n  final: OrderedMap<TKey, TValue>,\r\n  current: TValue[],\r\n  changesPerCycle: number\r\n) {\r\n  const result = Array.from(current);\r\n  for (let [_, { value, order }] of final.entries()) {\r\n    if (result[order]) continue;\r\n    result[order] = value;\r\n    changesPerCycle--;\r\n    if (changesPerCycle == 0) break;\r\n  }\r\n  return result;\r\n}\r\n\r\n//keeps old correct normals\r\nfunction rebuildNormals(\r\n  clouds: SynonymCloud[],\r\n  newColorMap: Map<string, string>,\r\n  oldNormals: Map<string, ColorNormal>\r\n) {\r\n  const map = new Map<string, ColorNormal>();\r\n  clouds.forEach((cloud) => {\r\n    const oldNormal = oldNormals.get(cloud.name);\r\n    const newNormal = new ColorNormal(cloud.GetWordNormal(), newColorMap);\r\n    if (!newNormal.IsValid) return;\r\n    map.set(\r\n      cloud.name,\r\n      oldNormal?.isEqualTo(newNormal) ? oldNormal : newNormal\r\n    );\r\n  });\r\n  return map;\r\n}\r\n\r\ntype OrderedMap<T1, T2> = Map<T1, { value: T2; order: number }>;\r\n\r\nconst TIME_INTERVAL = 250;\r\n\r\nconst ELEMENTS_PER_RENDER = 20;\r\n","import React, { FC, useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  DeviceEventEmitter,\r\n  Platform,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  ViewStyle,\r\n} from \"react-native\";\r\nimport {\r\n  Transition,\r\n  Transitioning,\r\n  TransitioningView,\r\n} from \"react-native-reanimated\";\r\n\r\nimport SynonymWord from \"./synonymWord\";\r\nimport SynonymCollection from \"../../dictionaries/data/synonymCollection\";\r\nimport { EventsEnum } from \"../../events\";\r\nimport Storage, { StringTypesEnum } from \"../../dictionaries/storageHandling\";\r\nimport BackgroundImage from \"./backgroundImage\";\r\nimport { useClouds } from \"../../dictionaries/data/useClouds\";\r\nimport * as Colors from \"../../colors\";\r\n\r\ninterface SynonymListProps {\r\n  synonyms: SynonymCollection[];\r\n  colorMap: Map<string, string>;\r\n  wordToSortBy?: string;\r\n  addNewWord: (newWord: string) => void;\r\n  style?: ViewStyle;\r\n}\r\n\r\n//Builds clouds of words from synonyms and displays them in a ScrollList\r\nconst SynonymList: FC<SynonymListProps> = ({\r\n  synonyms,\r\n  colorMap,\r\n  wordToSortBy,\r\n  addNewWord,\r\n  style,\r\n}) => {\r\n  //load tile limit from memory and watch the event for its change\r\n  const [cloudLimit, setCloudLimit] = useState(DEFAULT_CLOUD_LIMIT);\r\n  useEffect(() => {\r\n    const loadCloudLimit = () =>\r\n      Storage.GetString(StringTypesEnum.CloudCount).then((value) => {\r\n        const loaded = parseInt(value);\r\n        !isNaN(loaded) && setCloudLimit(loaded);\r\n      });\r\n\r\n    loadCloudLimit();\r\n    const subscription = DeviceEventEmitter.addListener(\r\n      EventsEnum.CloudCountChanged,\r\n      loadCloudLimit\r\n    );\r\n    return () => subscription.remove();\r\n  }, []);\r\n\r\n  //generate word clouds out of given synonyms\r\n  const { clouds, colorNormals, displayInfo } = useClouds(\r\n    synonyms,\r\n    colorMap,\r\n    wordToSortBy,\r\n    cloudLimit\r\n  );\r\n\r\n  //layout transition for tile movement (android only)\r\n  const transitionViewRef = useRef<TransitioningView>();\r\n  const animateTransition = () => {\r\n    if (Platform.OS == \"android\")\r\n      transitionViewRef.current?.animateNextTransition();\r\n  };\r\n\r\n  useEffect(() => {\r\n    animateTransition();\r\n  }, [synonyms]);\r\n\r\n  //create cloud components\r\n  const zIndex = style?.zIndex ?? 0;\r\n  const cloudComponents = [];\r\n  for (const cloud of clouds) {\r\n    if (!cloud) continue;\r\n    const { name } = cloud;\r\n    const normal = colorNormals.get(name);\r\n    cloudComponents.push(\r\n      <SynonymWord\r\n        key={name}\r\n        word={name}\r\n        colorNormal={normal}\r\n        onPress={addNewWord}\r\n        style={{ zIndex: zIndex + 1 }}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={{ flex: 1 }}>\r\n      <BackgroundImage source={BACKGROUND_IMAGE} faded={clouds.length > 0} />\r\n      <ScrollView\r\n        keyboardShouldPersistTaps=\"handled\"\r\n        style={{ zIndex: zIndex }}\r\n        contentContainerStyle={styles.synonymScrollContainer}\r\n      >\r\n        {Platform.OS == \"android\" ? (\r\n          <Transitioning.View\r\n            ref={transitionViewRef}\r\n            style={styles.innerView}\r\n            transition={transition}\r\n          >\r\n            {cloudComponents}\r\n          </Transitioning.View>\r\n        ) : (\r\n          <View style={styles.innerView}>{cloudComponents}</View>\r\n        )}\r\n      </ScrollView>\r\n\r\n      <View style={styles.tooltip} pointerEvents=\"none\">\r\n        <View style={{ ...styles.tooltipBackground, zIndex: zIndex + 10 }} />\r\n        <Text style={{ ...styles.tooltipText, zIndex: zIndex + 11 }}>\r\n          {`Showing: ${displayInfo.renderedCount}/${displayInfo.totalCount}`}\r\n        </Text>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  innerView: {\r\n    flex: 1,\r\n    flexDirection: \"row\",\r\n    alignContent: \"flex-start\",\r\n    justifyContent: \"space-around\",\r\n    flexWrap: \"wrap\",\r\n    gap: 15,\r\n    margin: 10,\r\n  },\r\n\r\n  synonymScrollContainer: {\r\n    margin: 5,\r\n    marginBottom: 50,\r\n  },\r\n\r\n  tooltip: {\r\n    position: \"absolute\",\r\n    left: 5,\r\n    bottom: 5,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    paddingHorizontal: 5,\r\n  },\r\n\r\n  tooltipBackground: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    borderWidth: 2,\r\n    borderRadius: 15,\r\n    position: \"absolute\",\r\n    backgroundColor: Colors.BGWhite,\r\n    opacity: 0.7,\r\n  },\r\n  tooltipText: { margin: 7 },\r\n});\r\n\r\nconst transition = <Transition.Change durationMs={100} />;\r\n\r\nconst DEFAULT_CLOUD_LIMIT = 30;\r\nconst BACKGROUND_IMAGE = require(\"../../../assets/icon.png\");\r\nexport default SynonymList;\r\n","//data returned from parser\r\nexport type APIReturnData = SynonymDefinition[];\r\nexport type SynonymDefinition = SynonymSet[];\r\nexport type SynonymSet = Set<string>;\r\n\r\n//processed response from api with an additional field for web response status\r\nexport type APIResponse = SuccessResponse | ErrorResponse;\r\ninterface SuccessResponse {\r\n  type: \"success\";\r\n  data: APIReturnData;\r\n}\r\n\r\ninterface ErrorResponse {\r\n  type: \"error\";\r\n  errorMessage: string;\r\n}\r\n\r\nexport enum APIErrorEnum {\r\n  Network = \"Unknown network error\",\r\n  WrongAPIkey = \"Server denies request, check API key\",\r\n  NoWord = \"No word in the database\",\r\n  Parsing = \"Can't parse the response\",\r\n}\r\n","import { APIErrorEnum, APIResponse } from \"./data/apiResponse\";\r\n\r\ntype getURL = (word: string, apiKey?: string) => string;\r\ntype parseResponse = (word: string, response: Response) => Promise<APIResponse>;\r\ntype normalizeWord = (string: string) => string;\r\n\r\n//fetches information about a word from an API and parses it into a synonym\r\nexport default class Dictionary {\r\n  constructor(\r\n    private urlGetter: getURL,\r\n    private parse: parseResponse,\r\n    private normalize?: normalizeWord\r\n  ) {}\r\n  private fetchResponse(word: string) {\r\n    return fetch(this.urlGetter(word));\r\n  }\r\n\r\n  GetSynonyms(word: string) {\r\n    word = this.normalize ? this.normalize(word) : word;\r\n\r\n    return this.fetchResponse(word)\r\n      .then((response) => this.parse(word, response))\r\n      .catch(\r\n        (_) =>\r\n          ({ type: \"error\", errorMessage: APIErrorEnum.Network } as APIResponse)\r\n      );\r\n  }\r\n}\r\n\r\nexport enum DictionaryType {\r\n  Self = \"Default\",\r\n  Meriam = \"MeriamWebster\",\r\n  Datamuse = \"Datamuse\",\r\n  BigHugeThesarus = \"BigHugeThesarus\",\r\n}\r\n\r\nexport const DictionaryKeyRequirement = {\r\n  [DictionaryType.Self]: false,\r\n  [DictionaryType.Meriam]: true,\r\n  [DictionaryType.BigHugeThesarus]: true,\r\n  [DictionaryType.Datamuse]: false,\r\n};\r\n\r\nexport const DictionaryRegistrationLinks = {\r\n  [DictionaryType.Self]: \"\",\r\n  [DictionaryType.Meriam]: \"https://dictionaryapi.com/\",\r\n  [DictionaryType.BigHugeThesarus]:\r\n    \"https://words.bighugelabs.com/account/getkey\",\r\n  [DictionaryType.Datamuse]: \"\",\r\n};\r\n\r\nexport const DictionaryName = {\r\n  [DictionaryType.Self]: \"Default (Datamuse)\",\r\n  [DictionaryType.Meriam]: \"Merriam-Webster\",\r\n  [DictionaryType.Datamuse]: \"Datamuse\",\r\n  [DictionaryType.BigHugeThesarus]: \"BigHugeThesarus\",\r\n};\r\n","import { APIErrorEnum, APIResponse } from \"./data/apiResponse\";\r\nimport Dictionary from \"./dictionary\";\r\n\r\n//dictionary components for datamuse.com API\r\nexport default function BuildDatamuse(): Dictionary {\r\n  return new Dictionary(\r\n    (word: string) => `https://api.datamuse.com/words?rel_syn=${word}`,\r\n    DatamuseParse,\r\n    (word: string) => word.replace(\" \", \"_\")\r\n  );\r\n}\r\n\r\nexport async function DatamuseParse(\r\n  _: string,\r\n  response: Response\r\n): Promise<APIResponse> {\r\n  try {\r\n    if (!response.ok)\r\n      throw new Error(`Something went wrong: ${response.status}`);\r\n\r\n    const text = await response.text();\r\n    if (!text) throw new Error(\"Empty response\");\r\n    const parsed = JSON.parse(text);\r\n    if (parsed.length == 0 || parsed[0]?.word == undefined)\r\n      throw new Error(APIErrorEnum.NoWord);\r\n\r\n    const sets: Set<string>[] = parsed.map(\r\n      (definition) => new Set<string>([definition.word])\r\n    );\r\n\r\n    return { type: \"success\", data: [sets] };\r\n  } catch (error) {\r\n    return { type: \"error\", errorMessage: error.message };\r\n  }\r\n}\r\n","import {\r\n  APIReturnData,\r\n  APIErrorEnum,\r\n  APIResponse,\r\n  SynonymDefinition,\r\n} from \"./data/apiResponse\";\r\nimport Dictionary from \"./dictionary\";\r\n\r\n//dictionary components for MeriamWebster api\r\nexport default function BuildMeriam(apiKey: string): Dictionary {\r\n  return new Dictionary(\r\n    (word: string) =>\r\n      `https://www.dictionaryapi.com/api/v3/references/thesaurus/json/${word}?key=${apiKey}`,\r\n    MeriamParse\r\n  );\r\n}\r\n\r\nexport async function MeriamParse(\r\n  targetWord: string,\r\n  response: Response\r\n): Promise<APIResponse> {\r\n  try {\r\n    if (!response.ok)\r\n      throw new Error(`Something went wrong: ${response.status}`);\r\n\r\n    const text = await response.text();\r\n    if (!text) throw new Error(\"Empty response\");\r\n    if (text.includes(\"Invalid API key\"))\r\n      return {\r\n        type: \"error\",\r\n        errorMessage: APIErrorEnum.WrongAPIkey,\r\n      };\r\n\r\n    const parsed = JSON.parse(text);\r\n    const data: APIReturnData = [];\r\n    if (parsed.length == 0 || parsed[0].meta == undefined)\r\n      throw new Error(APIErrorEnum.NoWord);\r\n    parsed\r\n      .filter((collection) => collection.meta.id == targetWord)\r\n      .forEach((definitionJSON) => {\r\n        const definition: SynonymDefinition = [];\r\n        definitionJSON.meta.syns.forEach((synonymList: string[]) => {\r\n          if (synonymList?.length > 0) definition.push(new Set(synonymList));\r\n        });\r\n        data.push(definition);\r\n      });\r\n    return { type: \"success\", data: data };\r\n  } catch (error) {\r\n    return { type: \"error\", errorMessage: error.message };\r\n  }\r\n}\r\n","import * as SecureStore from \"expo-secure-store\";\r\nimport { DictionaryType } from \"./dictionary\";\r\nimport { Platform } from \"react-native\";\r\nimport Storage from \"./storageHandling\";\r\n\r\n//securely handles setting and getting api keys (mobile only)\r\nexport default class Keys {\r\n  static Set(keyType: DictionaryType, key: string) {\r\n    const varName = secureKeyName(keyType);\r\n    if (Platform.OS == \"web\") return Storage.SetString(varName, key);\r\n    return SecureStore.setItemAsync(varName, key);\r\n  }\r\n\r\n  static async Get(keyType: DictionaryType) {\r\n    const varName = secureKeyName(keyType);\r\n    if (Platform.OS == \"web\") return Storage.GetString(varName);\r\n    return SecureStore.getItemAsync(varName);\r\n  }\r\n}\r\nconst secureKeyName = (type: string) => \"key-\" + type;\r\n","import {\r\n  APIReturnData,\r\n  APIErrorEnum,\r\n  APIResponse,\r\n  SynonymDefinition,\r\n} from \"./data/apiResponse\";\r\nimport Dictionary from \"./dictionary\";\r\n\r\n//dictionary components for MeriamWebster api\r\nexport default function BuildBHL(apiKey: string): Dictionary {\r\n  return new Dictionary(\r\n    (word: string) =>\r\n      `https://words.bighugelabs.com/api/2/${apiKey}/${word}/json`,\r\n    BHLParse\r\n  );\r\n}\r\n\r\nconst allowedTypes = [\"syn\", \"sim\"];\r\nexport async function BHLParse(\r\n  targetWord: string,\r\n  response: Response\r\n): Promise<APIResponse> {\r\n  if (response.status == 500)\r\n    return { type: \"error\", errorMessage: APIErrorEnum.WrongAPIkey };\r\n  if (response.status == 404)\r\n    return { type: \"error\", errorMessage: APIErrorEnum.NoWord };\r\n  if (!response.ok)\r\n    return { type: \"error\", errorMessage: APIErrorEnum.Network };\r\n\r\n  try {\r\n    const text = await response.text();\r\n    if (!text) throw new Error(`empty response`);\r\n\r\n    const parsed = JSON.parse(text);\r\n    const set: Set<string> = new Set();\r\n    for (const wordType in parsed) {\r\n      for (const relType in parsed[wordType]) {\r\n        if (allowedTypes.includes(relType)) {\r\n          Array.from(parsed[wordType][relType]).forEach((word: string) =>\r\n            set.add(word)\r\n          );\r\n        }\r\n      }\r\n    }\r\n    return { type: \"success\", data: [[set]] };\r\n  } catch (error) {\r\n    return { type: \"error\", errorMessage: error.message };\r\n  }\r\n}\r\n","import BuildDatamuse from \"./datamuse\";\r\nimport BuildMeriam from \"./meriam\";\r\nimport Keys from \"./keyHandling\";\r\nimport Dictionary, {\r\n  DictionaryKeyRequirement,\r\n  DictionaryType,\r\n} from \"./dictionary\";\r\nimport Storage from \"./storageHandling\";\r\nimport BuildBHL from \"./bighugelabs\";\r\n\r\n//Getters and setters for dictionary information in local storage\r\nexport async function GetCurrentDictionary(): Promise<Dictionary> {\r\n  const apiType = (await LoadCurrentDictionaryType()) || DictionaryType.Self;\r\n  let key: string;\r\n\r\n  if (DictionaryKeyRequirement[apiType]) key = await Keys.Get(apiType);\r\n  switch (apiType) {\r\n    case DictionaryType.Self:\r\n      return buildDefaultDictionary();\r\n    case DictionaryType.Meriam:\r\n      return BuildMeriam(key);\r\n    case DictionaryType.Datamuse:\r\n      return BuildDatamuse();\r\n    case DictionaryType.BigHugeThesarus:\r\n      return BuildBHL(key);\r\n  }\r\n}\r\n\r\nconst apiNameKey = \"current_api_name\";\r\n\r\nexport async function LoadCurrentDictionaryType() {\r\n  const result = await Storage.GetString(apiNameKey);\r\n  return (result as DictionaryType) || DictionaryType.Self;\r\n}\r\n\r\nexport async function SaveCurrentDictionaryType(\r\n  type: DictionaryType,\r\n  key?: string\r\n) {\r\n  const promises: Promise<void>[] = [];\r\n  promises.push(Storage.SetString(apiNameKey, type));\r\n  if (type != DictionaryType.Self && key) promises.push(Keys.Set(type, key));\r\n\r\n  return Promise.all(promises);\r\n}\r\n\r\nconst buildDefaultDictionary = BuildDatamuse;\r\n","import React, { FC } from \"react\";\r\nimport {\r\n  Animated,\r\n  StyleProp,\r\n  StyleSheet,\r\n  Text,\r\n  TouchableOpacity,\r\n  View,\r\n  ViewStyle,\r\n} from \"react-native\";\r\n\r\nimport * as Colors from \"../../colors\";\r\n\r\ninterface HintViewProps {\r\n  style?: StyleProp<ViewStyle>;\r\n  hintText: string;\r\n  onPress: () => void;\r\n}\r\n\r\nconst HintView: FC<HintViewProps> = ({ style, hintText, onPress }) => {\r\n  const animFaded = React.useState(new Animated.Value(0))[0];\r\n\r\n  React.useEffect(() => {\r\n    Animated.timing(animFaded, {\r\n      toValue: 1,\r\n      duration: 1000,\r\n      useNativeDriver: true,\r\n    }).start();\r\n\r\n    return () => {\r\n      Animated.timing(animFaded, {\r\n        toValue: 0,\r\n        duration: 1000,\r\n        useNativeDriver: true,\r\n      }).start();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Animated.View style={[{ opacity: animFaded }, styles.view, style]}>\r\n      <TouchableOpacity onPress={onPress}>\r\n        <Text style={{ fontSize: 20 }}>{hintText}</Text>\r\n      </TouchableOpacity>\r\n    </Animated.View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  view: {\r\n    backgroundColor: Colors.BGWhite,\r\n    borderColor: Colors.CountourColor,\r\n    borderRadius: 5,\r\n    borderWidth: 1,\r\n    padding: 6,\r\n  },\r\n});\r\n\r\nexport default HintView;\r\n","import React, { FC } from \"react\";\r\nimport { StyleSheet, View } from \"react-native\";\r\nimport HintView from \"./hintsView\";\r\n\r\ninterface HintOverlayProps {\r\n  currentHintID: number;\r\n  synonymsExist: boolean;\r\n  onHintPress: () => void;\r\n}\r\n\r\nconst HintOverlay: FC<HintOverlayProps> = ({\r\n  currentHintID,\r\n  synonymsExist,\r\n  onHintPress,\r\n}) => {\r\n  return (\r\n    <View style={styles.overlay} pointerEvents=\"box-none\">\r\n      {currentHintID == 0 && (\r\n        <HintView\r\n          style={{ ...styles.hint, bottom: 130 }}\r\n          hintText=\"Enter a word\"\r\n          onPress={onHintPress}\r\n        />\r\n      )}\r\n\r\n      {currentHintID == 1 && synonymsExist && (\r\n        <HintView\r\n          style={{\r\n            ...styles.hint,\r\n            bottom: \"50%\",\r\n          }}\r\n          hintText=\"Add more related words\"\r\n          onPress={onHintPress}\r\n        />\r\n      )}\r\n\r\n      {currentHintID == 2 && (\r\n        <HintView\r\n          style={{ ...styles.hint, bottom: 120 }}\r\n          hintText=\"Hold selected word to sort the results\"\r\n          onPress={onHintPress}\r\n        />\r\n      )}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  overlay: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    fontSize: 24,\r\n    zIndex: 3,\r\n  },\r\n  hint: {\r\n    zIndex: 4,\r\n    position: \"absolute\",\r\n  },\r\n});\r\n\r\nexport default HintOverlay;\r\n","import { APIReturnData } from \"./apiResponse\";\r\nimport Dictionary from \"../dictionary\";\r\n\r\n//Synonym word with fetched api data\r\nexport default class SynonymCollection {\r\n  public Word: string;\r\n  constructor(word: string) {\r\n    this.Word = NormalizeWord(word);\r\n  }\r\n\r\n  public definitionSets: APIReturnData = [];\r\n  private set(value: APIReturnData) {\r\n    this.wasFetched = true;\r\n    this.definitionSets = value;\r\n    this.isEmpty = this.definitionSets.length == 0;\r\n  }\r\n\r\n  public async Load(dictionary: Dictionary) {\r\n    const response = await dictionary.GetSynonyms(this.Word);\r\n    const data = response.type == \"success\" ? response.data : [];\r\n    this.set(data);\r\n    return response;\r\n  }\r\n\r\n  private isEmpty: boolean = false;\r\n  get IsEmpty(): boolean {\r\n    return this.isEmpty;\r\n  }\r\n\r\n  private wasFetched: boolean = false;\r\n  get WasFetched(): boolean {\r\n    return this.wasFetched;\r\n  }\r\n}\r\n\r\nexport function NormalizeWord(word: string) {\r\n  return word\r\n    .replace(/[^a-z0-9\\s-]/gi, \"\")\r\n    .trim()\r\n    .toLowerCase();\r\n}\r\n","import React, { FC } from \"react\";\r\nimport { StyleSheet, TouchableOpacity } from \"react-native\";\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\n\r\nexport interface MaterialButtonStyle {\r\n  backgroundColor?: string;\r\n  countourColor?: string;\r\n  disabledCountourColor?: string;\r\n  size?: number;\r\n  opacity?: number;\r\n}\r\n\r\ninterface MaterialButtonProps {\r\n  style?: MaterialButtonStyle;\r\n  disabled?: boolean;\r\n  name: keyof typeof MaterialIcons.glyphMap;\r\n  onPress?: () => void;\r\n}\r\n\r\n//a button with a material icon\r\nconst MaterialButton: FC<MaterialButtonProps> = ({\r\n  disabled,\r\n  style,\r\n  name,\r\n  onPress,\r\n}) => {\r\n  const bgColor = style?.backgroundColor || defaultBackground;\r\n  const counterColor = disabled\r\n    ? style?.disabledCountourColor || defaultDisabled\r\n    : style?.countourColor || defaultCountour;\r\n  return (\r\n    <TouchableOpacity\r\n      style={{\r\n        ...styles.inputButton,\r\n        backgroundColor: bgColor,\r\n        borderColor: counterColor,\r\n      }}\r\n      onPress={onPress}\r\n      disabled={disabled}\r\n    >\r\n      <MaterialIcons\r\n        name={name}\r\n        size={style?.size || defaultSize}\r\n        color={counterColor}\r\n      />\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst defaultCountour = \"black\";\r\nconst defaultBackground = \"white\";\r\nconst defaultDisabled = \"darkgrey\";\r\nconst defaultSize = 40;\r\n\r\nconst styles = StyleSheet.create({\r\n  inputButton: {\r\n    alignItems: \"center\",\r\n    borderWidth: 2,\r\n    borderRadius: 15,\r\n    marginHorizontal: 5,\r\n  },\r\n});\r\n\r\nexport default MaterialButton;\r\n","import React, { FC } from \"react\";\r\nimport {\r\n  Platform,\r\n  Pressable,\r\n  StyleSheet,\r\n  Text,\r\n  TextInput,\r\n  TextStyle,\r\n  View,\r\n  ViewStyle,\r\n} from \"react-native\";\r\nimport SynonymCollection from \"../../dictionaries/data/synonymCollection\";\r\nimport {\r\n  Transition,\r\n  Transitioning,\r\n  TransitioningView,\r\n} from \"react-native-reanimated\";\r\nimport * as Haptics from \"expo-haptics\";\r\n\r\nimport MaterialButton, { MaterialButtonStyle } from \"../materialButton\";\r\nimport * as Colors from \"../../colors\";\r\n\r\ninterface ControlPanelProps {\r\n  synonyms: SynonymCollection[];\r\n  colorMap: Map<string, string>;\r\n  highlightedWord: string;\r\n  onWordPress: (word: string) => void;\r\n  onWordLongPress: (word: string) => void;\r\n  onClearButton: () => void;\r\n  onOptions: () => void;\r\n  onAddWord: (word: string) => void;\r\n}\r\n\r\nconst ControlPanelView: FC<ControlPanelProps> = ({\r\n  synonyms,\r\n  colorMap,\r\n  highlightedWord,\r\n  onWordPress,\r\n  onWordLongPress,\r\n  onClearButton,\r\n  onOptions,\r\n  onAddWord,\r\n}) => {\r\n  const isOnMobile = Platform.OS != \"web\";\r\n\r\n  const transitionReference = React.useRef<TransitioningView>();\r\n  React.useEffect(() => {\r\n    isOnMobile && transitionReference.current.animateNextTransition();\r\n  }, [synonyms]);\r\n\r\n  //create selected synonym tiles\r\n  const synonymComponents = synonyms.map(({ Word, IsEmpty, WasFetched }) => {\r\n    const overrideColor = !WasFetched || IsEmpty || !colorMap.has(Word);\r\n    const wordColor = overrideColor ? Colors.DisabledGrey : colorMap.get(Word);\r\n    const getWordStyle = (pressed: boolean) => ({\r\n      backgroundColor: wordColor,\r\n      ...(Word == highlightedWord ? styles.highlightedWord : []),\r\n      opacity: !isOnMobile && pressed ? 0.6 : 1,\r\n    });\r\n    return (\r\n      <Pressable\r\n        key={Word}\r\n        android_ripple={{\r\n          color: Colors.BGWhite,\r\n        }}\r\n        style={({ pressed }) => getWordStyle(pressed)}\r\n        onPress={() => onWordPress(Word)}\r\n        onLongPress={() => {\r\n          onWordLongPress(Word);\r\n          if (isOnMobile) Haptics.selectionAsync();\r\n        }}\r\n      >\r\n        <Text style={styles.text}>{Word}</Text>\r\n      </Pressable>\r\n    );\r\n  });\r\n\r\n  const [inputText, setInputText] = React.useState<string>(\"\");\r\n  const onSubmitEditing = (newText: string) => {\r\n    onAddWord(newText);\r\n    setInputText(\"\");\r\n  };\r\n\r\n  return (\r\n    <View>\r\n      <View style={styles.listContainer}>\r\n        <View style={{ alignSelf: \"flex-end\" }}>\r\n          <MaterialButton\r\n            name=\"settings\"\r\n            onPress={onOptions}\r\n            style={styles.materialButtonStyle}\r\n          />\r\n        </View>\r\n        {isOnMobile ? (\r\n          <Transitioning.View\r\n            style={styles.wordList}\r\n            transition={transition}\r\n            ref={transitionReference}\r\n          >\r\n            {synonymComponents}\r\n          </Transitioning.View>\r\n        ) : (\r\n          <View style={styles.wordList}>{synonymComponents}</View>\r\n        )}\r\n      </View>\r\n      <View style={styles.inputContainer}>\r\n        <MaterialButton\r\n          disabled={synonyms.length == 0}\r\n          name=\"clear\"\r\n          onPress={onClearButton}\r\n          style={styles.materialButtonStyle}\r\n        />\r\n        <View style={styles.inputHolder}>\r\n          <TextInput\r\n            style={styles.inputText}\r\n            autoFocus={true}\r\n            blurOnSubmit={true}\r\n            value={inputText}\r\n            onChangeText={(text) => {\r\n              setInputText(text);\r\n            }}\r\n            onSubmitEditing={(event) => {\r\n              const newText = event.nativeEvent.text;\r\n              if (newText) onSubmitEditing(newText);\r\n            }}\r\n          />\r\n        </View>\r\n        <MaterialButton\r\n          disabled={inputText === \"\"}\r\n          name=\"add\"\r\n          onPress={() => onSubmitEditing(inputText)}\r\n          style={styles.materialButtonStyle}\r\n        />\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\ninterface ControlPanelStyles {\r\n  text: ViewStyle;\r\n  listContainer: ViewStyle;\r\n  inputHolder: ViewStyle;\r\n  inputText: TextStyle;\r\n  inputContainer: ViewStyle;\r\n  wordList: ViewStyle;\r\n  highlightedWord: ViewStyle;\r\n  materialButtonStyle: MaterialButtonStyle;\r\n}\r\n\r\nconst styles = StyleSheet.create<ControlPanelStyles>({\r\n  text: { fontSize: 20, marginHorizontal: 7, marginVertical: 5 },\r\n  listContainer: {\r\n    flexDirection: \"row\",\r\n  },\r\n  inputHolder: {\r\n    flex: 1,\r\n    borderWidth: 2,\r\n    borderRadius: 15,\r\n    marginHorizontal: 5,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    backgroundColor: Colors.BGWhite,\r\n  },\r\n  inputText: {\r\n    fontSize: 20,\r\n    width: \"95%\",\r\n    textAlign: \"center\",\r\n  },\r\n  inputContainer: {\r\n    paddingVertical: 5,\r\n    flexDirection: \"row\",\r\n  },\r\n  wordList: {\r\n    flex: 5,\r\n    flexDirection: \"row\",\r\n    justifyContent: \"flex-start\",\r\n    flexWrap: \"wrap\",\r\n    alignSelf: \"stretch\",\r\n    alignContent: \"center\",\r\n    alignItems: \"center\",\r\n    marginHorizontal: 5,\r\n    gap: 5,\r\n  },\r\n\r\n  highlightedWord: {\r\n    borderWidth: 3,\r\n    borderColor: Colors.CountourColor,\r\n    margin: -3,\r\n  },\r\n  materialButtonStyle: {\r\n    backgroundColor: Colors.BGWhite,\r\n    disabledCountourColor: Colors.DisabledGrey,\r\n    countourColor: Colors.CountourColor,\r\n  },\r\n});\r\n\r\nconst transition = (\r\n  <Transition.Together>\r\n    <Transition.Change durationMs={200} />\r\n  </Transition.Together>\r\n);\r\n\r\nexport default ControlPanelView;\r\n","import { StatusBar } from \"expo-status-bar\";\r\nimport React, { FC, useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { SafeAreaView } from \"react-native-safe-area-context\";\r\nimport {\r\n  StyleSheet,\r\n  View,\r\n  ActivityIndicator,\r\n  DeviceEventEmitter,\r\n} from \"react-native\";\r\n\r\nimport SynonymList from \"./synonymList\";\r\nimport Dictionary from \"../../dictionaries/dictionary\";\r\nimport { SynesisProps } from \"../../navigation\";\r\nimport { EventsEnum } from \"../../events\";\r\nimport { GetCurrentDictionary } from \"../../dictionaries/dictionaryLoading\";\r\nimport Storage, { StringTypesEnum } from \"../../dictionaries/storageHandling\";\r\nimport HintOverlay from \"./hintOverlay\";\r\nimport * as Colors from \"../../colors\";\r\nimport { useSynonyms } from \"../../dictionaries/data/useSynonyms\";\r\nimport ControlPanelView from \"./controlPanel\";\r\n\r\n//main screen\r\nconst SynonymScreen: FC<SynesisProps> = ({ navigation }) => {\r\n  //check if hints need to be shown and listen an event if it changes\r\n  const [showingHint, setShowingHint] = React.useState(-1);\r\n  useEffect(() => {\r\n    const loadHints = () =>\r\n      Storage.GetString(StringTypesEnum.WasLaunched).then((value) => {\r\n        if (!value) {\r\n          Storage.SetString(StringTypesEnum.WasLaunched, \"yes\");\r\n          setShowingHint(0);\r\n        }\r\n      });\r\n\r\n    loadHints();\r\n    const subscription = DeviceEventEmitter.addListener(\r\n      EventsEnum.HintsReset,\r\n      loadHints\r\n    );\r\n\r\n    return () => subscription.remove();\r\n  }, []);\r\n\r\n  //load default dictionary and listen an event if it changes\r\n  const [dictionary, setDictionary] = React.useState<Dictionary>();\r\n  useEffect(() => {\r\n    const loadDictionaryFromMemory = () =>\r\n      GetCurrentDictionary().then((newDictionary) =>\r\n        setDictionary(newDictionary)\r\n      );\r\n\r\n    loadDictionaryFromMemory();\r\n    const subscription = DeviceEventEmitter.addListener(\r\n      EventsEnum.ApiChanged,\r\n      loadDictionaryFromMemory\r\n    );\r\n    return () => subscription.remove();\r\n  }, []);\r\n\r\n  //\r\n  const [highlightedWord, setHighlightedWord] = useState(\"\");\r\n  const onWordRemoval = useCallback(\r\n    (removedWord) => {\r\n      setHighlightedWord((previous) =>\r\n        previous == removedWord ? \"\" : previous\r\n      );\r\n    },\r\n    [setHighlightedWord]\r\n  );\r\n\r\n  const { synonyms, addWord, removeWord, clearWords } = useSynonyms(\r\n    dictionary,\r\n    onWordRemoval\r\n  );\r\n\r\n  const colorRef = useRef(new Map<string, string>());\r\n  colorRef.current = Colors.RebuildColorMap(\r\n    colorRef.current,\r\n    synonyms.map((element) => element.Word)\r\n  );\r\n\r\n  const wordsBeingFetched =\r\n    synonyms.find((synonym) => !synonym.WasFetched) != null;\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <StatusBar style=\"auto\" />\r\n\r\n      <HintOverlay\r\n        onHintPress={() => setShowingHint((previous) => (previous += 1))}\r\n        currentHintID={showingHint}\r\n        synonymsExist={synonyms.length > 0}\r\n      />\r\n\r\n      <SynonymList\r\n        synonyms={synonyms.filter(\r\n          (synonym) => synonym.WasFetched && !synonym.IsEmpty\r\n        )}\r\n        colorMap={colorRef.current}\r\n        addNewWord={addWord}\r\n        wordToSortBy={highlightedWord}\r\n      />\r\n      <View style={styles.connectionIndicator}>\r\n        <ActivityIndicator\r\n          pointerEvents=\"none\"\r\n          animating={wordsBeingFetched}\r\n          size=\"large\"\r\n          color={Colors.CountourColor}\r\n        />\r\n      </View>\r\n\r\n      <View style={styles.controlView}>\r\n        <ControlPanelView\r\n          synonyms={synonyms}\r\n          colorMap={colorRef.current}\r\n          highlightedWord={highlightedWord}\r\n          onClearButton={clearWords}\r\n          onWordPress={(word) => removeWord(word)}\r\n          onWordLongPress={(word) => setHighlightedWord(word)}\r\n          onOptions={() => navigation.navigate(\"Options\")}\r\n          onAddWord={addWord}\r\n        />\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  connectionIndicator: {\r\n    position: \"absolute\",\r\n    right: 10,\r\n    top: 50,\r\n    width: 40,\r\n    height: 40,\r\n    zIndex: 1,\r\n  },\r\n\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"white\",\r\n    justifyContent: \"center\",\r\n    alignContent: \"center\",\r\n  },\r\n\r\n  controlView: {\r\n    backgroundColor: Colors.AccentColor,\r\n    paddingVertical: 5,\r\n  },\r\n});\r\n\r\nexport default SynonymScreen;\r\n","import React, { useEffect, useCallback, useState } from \"react\";\r\nimport { useToast } from \"react-native-toast-notifications\";\r\n\r\nimport SynonymCollection from \"./synonymCollection\";\r\nimport Dictionary from \"../dictionary\";\r\n\r\n//react hook that provides tools for interracting with synonym collections\r\nexport function useSynonyms(\r\n  dictionary: Dictionary,\r\n  onRemove?: (word: string) => void\r\n) {\r\n  const [synonyms, setSynonyms] = React.useState<SynonymCollection[]>([]);\r\n  const toast = useToast();\r\n\r\n  useEffect(() => {\r\n    setSynonyms([]);\r\n  }, [dictionary]);\r\n\r\n  const addWord = useCallback(\r\n    (word: string) => {\r\n      setSynonyms((previous) => {\r\n        const newSynonym = new SynonymCollection(word);\r\n        const EMPTY = !newSynonym || newSynonym.Word == \"\";\r\n        const HAS_WORD_ALREADY =\r\n          previous.findIndex(\r\n            (definiton) => definiton.Word == newSynonym.Word\r\n          ) != -1;\r\n\r\n        if (!EMPTY && !HAS_WORD_ALREADY) {\r\n          newSynonym.Load(dictionary).then((result) => {\r\n            if (result.type == \"error\") toast.show(result.errorMessage);\r\n            setSynonyms((previous) => Array.from(previous));\r\n          });\r\n          return [...previous, newSynonym];\r\n        }\r\n        return previous;\r\n      });\r\n    },\r\n    [setSynonyms, dictionary]\r\n  );\r\n\r\n  const removeWord = useCallback(\r\n    (removedWord: string) => {\r\n      setSynonyms((previousSynonyms) => {\r\n        const index = previousSynonyms.findIndex(\r\n          ({ Word }) => Word == removedWord\r\n        );\r\n        if (index < 0) return previousSynonyms;\r\n        onRemove?.(removedWord);\r\n        return [\r\n          ...previousSynonyms.slice(0, index),\r\n          ...previousSynonyms.slice(index + 1),\r\n        ];\r\n      });\r\n    },\r\n    [setSynonyms, onRemove]\r\n  );\r\n\r\n  const clearWords = useCallback(() => setSynonyms([]), [setSynonyms]);\r\n  return { synonyms, addWord, removeWord, clearWords };\r\n}\r\n","import React, { FC } from \"react\";\r\nimport { StyleSheet, Switch, Text, TouchableOpacity, View } from \"react-native\";\r\n\r\n// Toggle with a title\r\ninterface TitledToggleProps {\r\n  title: string;\r\n  state: boolean;\r\n  onValueChange: (state: boolean) => void;\r\n}\r\nconst TitledToggle: FC<TitledToggleProps> = ({\r\n  title,\r\n  state,\r\n  onValueChange,\r\n}) => {\r\n  return (\r\n    <TouchableOpacity\r\n      onPress={() => onValueChange(!state)}\r\n      style={styles.touchable}\r\n    >\r\n      <View style={styles.view}>\r\n        <Switch value={state} onValueChange={() => onValueChange(!state)} />\r\n        <Text style={styles.text}>{title}</Text>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  text: { left: 20, fontSize: 16 },\r\n  touchable: { padding: 10 },\r\n  view: { flexDirection: \"row\", alignItems: \"center\" },\r\n});\r\n\r\nexport default TitledToggle;\r\n","import { DeviceEventEmitter, View } from \"react-native\";\r\nimport {\r\n  DictionaryKeyRequirement,\r\n  DictionaryName,\r\n  DictionaryRegistrationLinks,\r\n  DictionaryType,\r\n} from \"../../dictionaries/dictionary\";\r\nimport React, { FC } from \"react\";\r\nimport { useToast } from \"react-native-toast-notifications\";\r\n\r\nimport { InputModalEventParams } from \"../inputModal\";\r\nimport { OptionsProps } from \"../../navigation\";\r\nimport { EventsEnum } from \"../../events\";\r\nimport {\r\n  LoadCurrentDictionaryType,\r\n  SaveCurrentDictionaryType,\r\n} from \"../../dictionaries/dictionaryLoading\";\r\nimport TitledToggle from \"../titledToggle\";\r\n\r\ninterface ApiSwitchProps {\r\n  navigation: OptionsProps[\"navigation\"];\r\n}\r\n\r\n//List of toggles to switch API, pops up InputModal for API key when required\r\nexport const ApiSwitch: FC<ApiSwitchProps> = ({ navigation }) => {\r\n  const toast = useToast();\r\n  const [currentDictionaryType, setCurrentDictionaryType] =\r\n    React.useState<DictionaryType>();\r\n\r\n  //create data for each API in the dictionary\r\n  const apiTogglesData = Object.values(DictionaryType).map((dictionaryType) => {\r\n    return {\r\n      name: dictionaryType,\r\n      state: currentDictionaryType == dictionaryType,\r\n      text: DictionaryName[dictionaryType],\r\n    };\r\n  });\r\n\r\n  //popup modal when a toggle is pressed\r\n  const onTogglePress = (dictionaryType: DictionaryType) => {\r\n    const { state: enabled } = apiTogglesData.find(\r\n      ({ name }) => name == dictionaryType\r\n    );\r\n\r\n    if (DictionaryKeyRequirement[dictionaryType]) {\r\n      navigation.navigate(\"InputModal\", {\r\n        varName: dictionaryType,\r\n        varHint: `Enter a key for ${DictionaryName[dictionaryType]} API`,\r\n        varLink: DictionaryRegistrationLinks[dictionaryType], //todo move into personalized api section\r\n        eventName: EventsEnum.ApiKeyEntered,\r\n      });\r\n      return;\r\n    }\r\n\r\n    if (!enabled) {\r\n      setCurrentDictionaryType(dictionaryType);\r\n      SaveCurrentDictionaryType(dictionaryType).then(() =>\r\n        DeviceEventEmitter.emit(EventsEnum.ApiChanged)\r\n      );\r\n    }\r\n  };\r\n\r\n  //listen to the event of modal resolution\r\n  React.useEffect(() => {\r\n    LoadCurrentDictionaryType().then((result) =>\r\n      setCurrentDictionaryType(result)\r\n    );\r\n\r\n    //listen to an event from InputModal, change Dictionary and API key on recieve\r\n    const callback = (params: InputModalEventParams) => {\r\n      const { varName, varValue: apiKey } = params;\r\n      const dictionaryType = varName as DictionaryType;\r\n      if (currentDictionaryType != dictionaryType || apiKey) {\r\n        setCurrentDictionaryType(dictionaryType as DictionaryType);\r\n        SaveCurrentDictionaryType(\r\n          dictionaryType as DictionaryType,\r\n          apiKey\r\n        ).then(() => DeviceEventEmitter.emit(EventsEnum.ApiChanged));\r\n      } else {\r\n        toast.show(\r\n          `Please provide a key to use ${DictionaryName[dictionaryType]} API`\r\n        );\r\n      }\r\n    };\r\n\r\n    const subscription = DeviceEventEmitter.addListener(\r\n      EventsEnum.ApiKeyEntered,\r\n      callback\r\n    );\r\n    return () => subscription.remove();\r\n  }, []);\r\n\r\n  return (\r\n    <View>\r\n      {apiTogglesData.map(({ name, state, text }) => (\r\n        <TitledToggle\r\n          key={name}\r\n          onValueChange={() => {\r\n            onTogglePress(name);\r\n          }}\r\n          state={state}\r\n          title={text}\r\n        />\r\n      ))}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default ApiSwitch;\r\n","import React, { FC, useState } from \"react\";\r\nimport { DeviceEventEmitter, StyleSheet, Text, View } from \"react-native\";\r\nimport Slider from \"@react-native-community/slider\";\r\n\r\nimport Storage, { StringTypesEnum } from \"../../dictionaries/storageHandling\";\r\nimport { EventsEnum } from \"../../events\";\r\n\r\ninterface CloudCountSwitchProps {}\r\n\r\n//slider that changes the amount of rendered clouds\r\nconst CloudCountSwitch: FC<CloudCountSwitchProps> = ({}) => {\r\n  const [tileCount, setTileCount] = useState<number>(-1);\r\n\r\n  //on start, load value from memory\r\n  if (tileCount == -1)\r\n    Storage.GetString(StringTypesEnum.CloudCount).then((stringValue) => {\r\n      const numberValue = stringToTilecount(stringValue);\r\n      setTileCount(numberValue);\r\n    });\r\n\r\n  const onValChange = (newVal: number) => {\r\n    Storage.SetString(StringTypesEnum.CloudCount, tilecountToString(newVal));\r\n    setTileCount(newVal);\r\n    DeviceEventEmitter.emit(EventsEnum.CloudCountChanged);\r\n  };\r\n\r\n  return (\r\n    <View\r\n      style={{\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <Text> Tile limit</Text>\r\n      <Text> {tileCount > tileValues.max ? \"No limit\" : tileCount}</Text>\r\n      <Slider\r\n        style={{\r\n          alignItems: \"center\",\r\n          width: \"90%\",\r\n          height: 40,\r\n        }}\r\n        step={tileValues.step}\r\n        value={tileCount}\r\n        minimumValue={tileValues.min}\r\n        maximumValue={tileValues.uimax}\r\n        onValueChange={onValChange}\r\n        minimumTrackTintColor=\"#FFFFFF\"\r\n        maximumTrackTintColor=\"#000000\"\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({ view: {} });\r\n\r\nfunction tilecountToString(count: number) {\r\n  return (isInfinite(count) ? 1000 : count).toString();\r\n}\r\n\r\nfunction stringToTilecount(count: string) {\r\n  const parsed = parseInt(count) || tileValues.default;\r\n  return isInfinite(parsed) ? tileValues.uimax : parsed;\r\n}\r\n\r\nfunction isInfinite(value) {\r\n  return value >= tileValues.uimax;\r\n}\r\n\r\nconst tileValues = {\r\n  step: 10,\r\n  min: 20,\r\n  max: 70,\r\n  uimax: 80,\r\n  default: 30,\r\n};\r\n\r\nexport default CloudCountSwitch;\r\n","import React, { FC, useEffect } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  DeviceEventEmitter,\r\n  TouchableOpacity,\r\n  Platform,\r\n  Linking,\r\n} from \"react-native\";\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\nimport Accordion from \"react-native-collapsible/Accordion\";\r\nimport * as Haptics from \"expo-haptics\";\r\n\r\nimport ApiSwitch from \"./apiSwitch\";\r\nimport { OptionsProps } from \"../../navigation\";\r\nimport Storage, { StringTypesEnum } from \"../../dictionaries/storageHandling\";\r\nimport { EventsEnum } from \"../../events\";\r\nimport * as Colors from \"../../colors\";\r\nimport CloudCountSwitch from \"./cloudCountSwitch\";\r\n\r\nconst OptionsScreen: FC<OptionsProps> = ({ navigation, route }) => {\r\n  const renderAccordionHeader = (title, index, isActive) => {\r\n    return (\r\n      <View key={index} style={{ ...styles.header }}>\r\n        {isActive ? (\r\n          <MaterialIcons\r\n            name=\"expand-less\"\r\n            size={24}\r\n            color={Colors.CountourColor}\r\n          />\r\n        ) : (\r\n          <MaterialIcons\r\n            name=\"expand-more\"\r\n            size={24}\r\n            color={Colors.CountourColor}\r\n          />\r\n        )}\r\n        <Text style={styles.title}>{title}</Text>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  const accordionContents = {\r\n    [OptionSectionsEnum.Display]: <CloudCountSwitch />,\r\n    [OptionSectionsEnum.API]: <ApiSwitch navigation={navigation} />,\r\n    [OptionSectionsEnum.About]: (\r\n      <Text style={styles.linkText} onPress={() => Linking.openURL(ABOUT_LINK)}>\r\n        {ABOUT_LINK}\r\n      </Text>\r\n    ),\r\n    [OptionSectionsEnum.Hints]: (\r\n      <TouchableOpacity\r\n        style={styles.resetHints}\r\n        onPress={() => {\r\n          if (Platform.OS == \"android\") Haptics.selectionAsync();\r\n          Storage.SetString(StringTypesEnum.WasLaunched, \"\").then(() =>\r\n            DeviceEventEmitter.emit(EventsEnum.HintsReset)\r\n          );\r\n        }}\r\n      >\r\n        <MaterialIcons name=\"replay-circle-filled\" size={30} />\r\n        <Text style={{ fontSize: 15 }}>Reset Hints</Text>\r\n      </TouchableOpacity>\r\n    ),\r\n  };\r\n\r\n  const renderAccordingContent = (title) => {\r\n    return (\r\n      <View style={styles.content}>{accordionContents[title]}</View> || null\r\n    );\r\n  };\r\n\r\n  const [activeSessions, setActiveSessions] = React.useState<number[]>([]);\r\n  const updateSections = (activeSections: number[]) => {\r\n    setActiveSessions([...activeSections]);\r\n  };\r\n\r\n  //unravel certain section if parameter is present\r\n  const { unravel } = route.params ?? { unravel: undefined };\r\n  useEffect(() => {\r\n    const propIndex = Object.keys(OptionSectionsEnum).indexOf(unravel);\r\n    if (propIndex >= 0) setActiveSessions([propIndex]);\r\n  }, []);\r\n\r\n  return (\r\n    <View>\r\n      <Accordion\r\n        underlayColor={Colors.BGWhite}\r\n        sections={Object.values(OptionSectionsEnum)}\r\n        activeSections={activeSessions}\r\n        renderHeader={renderAccordionHeader}\r\n        renderContent={renderAccordingContent}\r\n        onChange={updateSections}\r\n      />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  content: { left: 20, paddingVertical: 20 },\r\n  header: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    padding: 16,\r\n  },\r\n  linkText: { fontSize: 15, color: \"blue\" },\r\n  resetHints: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    gap: 10,\r\n  },\r\n  title: {\r\n    marginLeft: 16,\r\n    fontSize: 18,\r\n    fontWeight: \"bold\",\r\n  },\r\n});\r\n\r\nconst ABOUT_LINK = \"https://github.com/holyhamster/Synesis/\";\r\nexport enum OptionSectionsEnum {\r\n  Display = \"Display\",\r\n  API = \"API\",\r\n  Hints = \"Hints\",\r\n  About = \"About\",\r\n}\r\n\r\nexport default OptionsScreen;\r\n","import React, { FC } from \"react\";\r\nimport {\r\n  ButtonProps,\r\n  DeviceEventEmitter,\r\n  Linking,\r\n  StyleSheet,\r\n  Text,\r\n  TextInput,\r\n  TextStyle,\r\n  View,\r\n  ViewStyle,\r\n} from \"react-native\";\r\n\r\nimport { InputModalProps } from \"../navigation\";\r\nimport MaterialButton from \"./materialButton\";\r\nimport * as Colors from \"../colors\";\r\n\r\nexport interface InputModalEventParams {\r\n  varName: string;\r\n  varValue: string;\r\n}\r\n\r\n//Modal that asks for a string and launches an event after it has been submitted\r\nconst InputModal: FC<InputModalProps> = ({ navigation, route }) => {\r\n  const { eventName, varName, varHint, varLink } = route.params;\r\n\r\n  const submitValue = (value: string) => {\r\n    const params: InputModalEventParams = { varName: varName, varValue: value };\r\n    DeviceEventEmitter.emit(eventName, params);\r\n  };\r\n\r\n  const [inputText, setInputText] = React.useState(\"\");\r\n  return (\r\n    <View style={styles.parentView}>\r\n      <Text style={styles.hintText}>{varHint ?? \"Enter variable\"}</Text>\r\n      <Text style={styles.linkText} onPress={() => Linking.openURL(varLink)}>\r\n        {varLink}\r\n      </Text>\r\n      <TextInput\r\n        autoFocus={true}\r\n        blurOnSubmit={true}\r\n        value={inputText}\r\n        onChangeText={(text) => {\r\n          setInputText(text);\r\n        }}\r\n        style={styles.input}\r\n        onSubmitEditing={({ nativeEvent }) => {\r\n          const { text } = nativeEvent;\r\n          if (text) {\r\n            submitValue(text);\r\n            navigation.goBack();\r\n          }\r\n        }}\r\n      />\r\n      <View style={styles.buttonView}>\r\n        <MaterialButton\r\n          name=\"clear\"\r\n          onPress={() => navigation.goBack()}\r\n          style={{ size: 50 }}\r\n        />\r\n        <MaterialButton\r\n          name=\"check\"\r\n          onPress={() => {\r\n            submitValue(inputText);\r\n            navigation.goBack();\r\n          }}\r\n          style={{ size: 50 }}\r\n        />\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\ninterface InputModalStyleProps {\r\n  buttonView: ViewStyle;\r\n  buttons: ButtonProps;\r\n  input: TextStyle;\r\n  linkText: TextStyle;\r\n  parentView: ViewStyle;\r\n  hintText: TextStyle;\r\n}\r\n\r\nconst styles = StyleSheet.create<InputModalStyleProps>({\r\n  buttonView: { flexDirection: \"row\", gap: 10 },\r\n  buttons: {},\r\n  input: {\r\n    backgroundColor: Colors.BGWhite,\r\n    fontSize: 20,\r\n    width: \"80%\",\r\n    justifyContent: \"center\",\r\n    textAlign: \"center\",\r\n  },\r\n  linkText: { fontSize: 20, color: \"blue\", textAlign: \"center\" },\r\n  parentView: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    gap: 10,\r\n    justifyContent: \"center\",\r\n  },\r\n  hintText: { fontSize: 25, textAlign: \"center\" },\r\n});\r\nexport default InputModal;\r\n","import React from \"react\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { ToastProvider } from \"react-native-toast-notifications\";\nimport { SafeAreaProvider } from \"react-native-safe-area-context\";\n\nimport SynonymScreen from \"./src/screens/synonyms/synonymScreen\";\nimport OptionsScreen from \"./src/screens/options/optionsScreen\";\nimport InputModal from \"./src/screens/inputModal\";\nimport { CreateStack } from \"./src/navigation\";\n\nconst Stack = CreateStack();\n\n//SynonymScreen component is the app's main screen\n//Navigation is used to switch to options and any popups\nexport default function App() {\n  return (\n    <SafeAreaProvider>\n      <NavigationContainer>\n        <ToastProvider placement=\"center\">\n          <Stack.Navigator>\n            <Stack.Screen\n              name=\"Synesis\"\n              component={SynonymScreen}\n              options={{ headerShown: false }}\n            />\n            <Stack.Screen name=\"Options\" component={OptionsScreen} />\n            <Stack.Group screenOptions={{ presentation: \"modal\" }}>\n              <Stack.Screen name=\"InputModal\" component={InputModal} />\n            </Stack.Group>\n          </Stack.Navigator>\n        </ToastProvider>\n      </NavigationContainer>\n    </SafeAreaProvider>\n  );\n}\n","import {\r\n  NativeStackScreenProps,\r\n  createNativeStackNavigator,\r\n} from \"@react-navigation/native-stack\";\r\n\r\nimport { OptionSectionsEnum } from \"./screens/options/optionsScreen\";\r\n\r\n//paramteres for screen navigation\r\n\r\nexport type StackParamList = {\r\n  Synesis: undefined;\r\n  Options: { unravel?: OptionSectionsEnum };\r\n  InputModal: {\r\n    eventName: string;\r\n    varName: string;\r\n    varHint: string | undefined;\r\n    varLink: string | undefined;\r\n  };\r\n};\r\nexport type SynesisProps = NativeStackScreenProps<StackParamList, \"Synesis\">;\r\nexport type OptionsProps = NativeStackScreenProps<StackParamList, \"Options\">;\r\nexport type InputModalProps = NativeStackScreenProps<\r\n  StackParamList,\r\n  \"InputModal\"\r\n>;\r\n\r\nexport function CreateStack() {\r\n  return createNativeStackNavigator<StackParamList>();\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/Synesis/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [569], () => (__webpack_require__(9386)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["lerpWorklet","_f","progress","start","end","_closure","asString","__workletHash","__location","_ref","animationProgress","transition","style","dataKey","registerTransitionUpdates","transitionRef","useSharedValue","useEffect","newTransition","value","staticStyle","useMemo","_objectSpread","position","animatedStyle","useAnimatedStyle","_transitionRef$value","left","bottom","width","height","backgroundColor","color","__optimalization","_jsx","Animated","Rectangle","_classCallCheck","_createClass","key","Lerp","spliceRect","rects","index","prevRect","splice","GetTransitionsKeys","result","Map","colors","forEach","rect","_colors$get","colorCount","get","set","styles","StyleSheet","view","flexDirection","DEFAULT_ANIMATION_LENGTH","colorNormal","animationLength","size","_useValueSynchronizer","keyProducer","removeFrom","missingFrom","_React$useState","React","_React$useState2","_slicedToArray","array","setArray","_React$useState3","_React$useState4","keys","setKeys","callbacks","registerCallback","callback","current","_","has","delete","arrayOrCallback","previous","newArray","newKeys","_callbacks$current$ge","useValueSynchronizer","setTransitions","transitions","restartAnimation","useCallback","duration","isNaN","withTiming","IsValid","_AlignRectangles","_start$","_end$","Array","from","startLength","length","endLength","defHeight","i","Math","max","_start$i","_end$i","_start$i2","_end","_end$i2","_start","AlignRectangles","map","_ref2","rect1","rect2","filter","ToGradient","ToRectangle","_AlignRectangles2","newStart","newTarget","newTransitions","View","children","id","AnimatedRect","getFreeColor","takenColors","Set","floor","random","DisabledGrey","BGWhite","CountourColor","SynonymWord","memo","word","onPress","propStyle","viewOpacity","toValue","useNativeDriver","_colorNormal$getDomin","_ref2$zIndex","zIndex","chart","container","getDominantColor","margin","marginHorizontal","fontSize","_useState","useState","_useState2","layoutSize","setLayoutSize","opacity","Pressable","android_ripple","Colors","foreground","_ref4","pressed","Platform","_jsxs","onLayout","_ref3","nativeEvent","layout","undefined","ColorChart","Text","EventsEnum","Storage","_GetString","_asyncToGenerator","storageString","AsyncStorage","_x","apply","arguments","_SetString","_x2","_x3","StringTypesEnum","defaultFadeCeiling","defaultFadeFloor","defaultDuration","imageBackground","faded","source","fadeFloor","fadeCeiling","animatiedOpacity","ImageBackground","resizeMode","WordNormal","_Array","_inherits","_super","_createSuper","call","copy","_toConsumableArray","_wrapNativeSuper","SynonymCloud","name","connections","connectionSum","order","strength","this","nullCache","existingDimensions","push","normalCache","wordMapCache","sum","normal","connectionWeights","quantities","weights","unitWeight","totalWeight","currentQ","columnWeight","ceil","val","CalculateWeights","mentions","parseFloat","toFixed","buildWordNormal","Copy","_this","GetWordNormal","clouds","sort","a","b","GetWordMap","Gradient","_len","items","_key","concat","colorSection","ColorNormal","wordNormal","colorMap","validated","wordColor","ln","sections","pair","_construct","backgroundColorValue","ibackground","useClouds","synonyms","sortBy","limit","allClouds","collections","allKeywords","synonymCollection","Word","getCloud","cloud","addConnectionToSet","keyWord","setWord","includes","addConnection","collection","definition","definitionSets","synonymSet","synonymList2","CrossReference","sortedClouds","newSorted","GetSorted","values","slice","Infinity","staggetTimer","renderedClouds","setRenderedClouds","clearInterval","moveNextClouds","previousClouds","final","changesPerCycle","entries","_ref3$","MoveElements","ELEMENTS_PER_RENDER","previousTimer","setInterval","TIME_INTERVAL","allElements","element","CopyExisting","previousNormals","colorNormals","newNormals","newColorMap","oldNormals","oldNormal","newNormal","isEqualTo","rebuildNormals","displayInfo","totalCount","renderedCount","innerView","flex","alignContent","justifyContent","flexWrap","gap","synonymScrollContainer","marginBottom","tooltip","alignItems","paddingHorizontal","tooltipBackground","borderWidth","borderRadius","tooltipText","Transition","durationMs","DEFAULT_CLOUD_LIMIT","BACKGROUND_IMAGE","require","_style$zIndex","wordToSortBy","addNewWord","cloudLimit","setCloudLimit","loadCloudLimit","GetString","CloudCount","then","loaded","parseInt","subscription","DeviceEventEmitter","CloudCountChanged","remove","_useClouds","transitionViewRef","useRef","_transitionViewRef$cu","animateNextTransition","animateTransition","cloudComponents","BackgroundImage","ScrollView","keyboardShouldPersistTaps","contentContainerStyle","Transitioning","ref","pointerEvents","APIErrorEnum","Dictionary","urlGetter","parse","normalize","fetch","fetchResponse","response","catch","type","errorMessage","Network","DictionaryType","DictionaryKeyRequirement","_DictionaryKeyRequire","_defineProperty","Self","Meriam","BigHugeThesarus","Datamuse","DictionaryRegistrationLinks","_DictionaryRegistrati","DictionaryName","_DictionaryName","BuildDatamuse","DatamuseParse","replace","_DatamuseParse","_parsed$","ok","Error","status","text","parsed","JSON","NoWord","data","error","message","MeriamParse","_MeriamParse","targetWord","WrongAPIkey","meta","definitionJSON","syns","synonymList","Keys","keyType","varName","secureKeyName","SetString","SecureStore","setItemAsync","_Get","getItemAsync","allowedTypes","BHLParse","_BHLParse","wordType","relType","add","_GetCurrentDictionary","apiKey","apiType","LoadCurrentDictionaryType","Get","buildDefaultDictionary","BuildBHL","apiNameKey","_LoadCurrentDictionaryType","SaveCurrentDictionaryType","_SaveCurrentDictionaryType","promises","Promise","all","borderColor","padding","hintText","animFaded","TouchableOpacity","overlay","top","right","hint","currentHintID","synonymsExist","onHintPress","HintView","SynonymCollection","isEmpty","wasFetched","trim","toLowerCase","NormalizeWord","_Load","dictionary","GetSynonyms","defaultCountour","defaultBackground","defaultDisabled","defaultSize","inputButton","disabled","bgColor","counterColor","disabledCountourColor","countourColor","MaterialIcons","marginVertical","listContainer","inputHolder","inputText","textAlign","inputContainer","paddingVertical","wordList","alignSelf","highlightedWord","materialButtonStyle","onWordPress","onWordLongPress","onClearButton","onOptions","onAddWord","isOnMobile","transitionReference","synonymComponents","IsEmpty","WasFetched","getWordStyle","onLongPress","Haptics","selectionAsync","setInputText","onSubmitEditing","newText","MaterialButton","TextInput","autoFocus","blurOnSubmit","onChangeText","event","connectionIndicator","controlView","navigation","showingHint","setShowingHint","loadHints","WasLaunched","HintsReset","setDictionary","loadDictionaryFromMemory","GetCurrentDictionary","newDictionary","ApiChanged","setHighlightedWord","_useSynonyms","onRemove","setSynonyms","toast","useToast","addWord","newSynonym","EMPTY","HAS_WORD_ALREADY","findIndex","definiton","Load","show","removeWord","removedWord","previousSynonyms","clearWords","useSynonyms","colorRef","oldMap","newColormap","wordsBeingFetched","find","synonym","SafeAreaView","StatusBar","HintOverlay","SynonymList","ActivityIndicator","animating","ControlPanelView","navigate","touchable","title","state","onValueChange","Switch","currentDictionaryType","setCurrentDictionaryType","apiTogglesData","Object","dictionaryType","ApiKeyEntered","params","varValue","TitledToggle","enabled","varHint","varLink","eventName","onTogglePress","isInfinite","tileValues","uimax","step","min","default","_objectDestructuringEmpty","tileCount","setTileCount","stringValue","numberValue","count","stringToTilecount","Slider","minimumValue","maximumValue","newVal","toString","minimumTrackTintColor","maximumTrackTintColor","content","header","linkText","resetHints","marginLeft","fontWeight","ABOUT_LINK","OptionSectionsEnum","_accordionContents","_route$params","route","accordionContents","Display","CloudCountSwitch","API","ApiSwitch","About","Linking","Hints","activeSessions","setActiveSessions","unravel","propIndex","indexOf","Accordion","underlayColor","activeSections","renderHeader","isActive","renderContent","onChange","buttonView","buttons","input","parentView","submitValue","goBack","Stack","createNativeStackNavigator","App","SafeAreaProvider","NavigationContainer","ToastProvider","placement","Navigator","Screen","component","SynonymScreen","options","headerShown","OptionsScreen","Group","screenOptions","presentation","InputModal","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","chunkIds","fn","priority","notFulfilled","fulfilled","j","every","r","n","getter","__esModule","d","leafPrototypes","getProto","getPrototypeOf","obj","t","mode","ns","create","def","getOwnPropertyNames","o","defineProperty","enumerable","g","globalThis","Function","e","window","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","p","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}